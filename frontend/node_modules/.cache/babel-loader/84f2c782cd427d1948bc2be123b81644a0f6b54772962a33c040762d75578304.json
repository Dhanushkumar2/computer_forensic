{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Helper to get current case\nconst getCurrentCase = () => {\n  const caseData = localStorage.getItem('selectedCase');\n  return caseData ? JSON.parse(caseData) : null;\n};\n\n// Request interceptor for adding auth token and case context\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  // Add current case ID to headers\n  const currentCase = getCurrentCase();\n  if (currentCase) {\n    config.headers['X-Case-ID'] = currentCase.case_id;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Response interceptor for handling errors\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('selectedCase');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// API endpoints\nexport const forensicAPI = {\n  // Helper to get current case ID\n  getCurrentCaseId: () => {\n    const currentCase = getCurrentCase();\n    return currentCase ? currentCase.id : null;\n  },\n  // Dashboard\n  getDashboardStats: () => {\n    const caseId = forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${caseId}/statistics/`);\n  },\n  getRecentCases: () => api.get('/cases/recent/'),\n  // Cases\n  getCases: params => api.get('/cases/', {\n    params\n  }),\n  getCase: id => api.get(`/cases/${id}/`),\n  createCase: data => api.post('/cases/', data),\n  updateCase: (id, data) => api.put(`/cases/${id}/`, data),\n  deleteCase: id => api.delete(`/cases/${id}/`),\n  // Artifacts (use current case if caseId not provided)\n  getArtifacts: (caseId, params) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/artifacts/`, {\n      params\n    });\n  },\n  getArtifactDetails: id => api.get(`/artifacts/${id}/`),\n  searchArtifacts: query => {\n    const caseId = forensicAPI.getCurrentCaseId();\n    return api.post(`/cases/${caseId}/search/`, query);\n  },\n  // Browser artifacts\n  getBrowserHistory: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/browser-history/`);\n  },\n  getBrowserDownloads: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/browser-downloads/`);\n  },\n  getBrowserCookies: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/browser-cookies/`);\n  },\n  // Registry artifacts\n  getRegistryData: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/registry/`);\n  },\n  getUSBDevices: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/usb-devices/`);\n  },\n  // File system\n  getFileSystem: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/filesystem/`);\n  },\n  getDeletedFiles: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/deleted-files/`);\n  },\n  // User Activity\n  getUserActivity: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/user-activity/`);\n  },\n  // Timeline\n  getTimeline: (caseId, params) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/timeline/`, {\n      params\n    });\n  },\n  // Reports\n  generateReport: (caseId, format) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.post(`/cases/${id}/report/`, {\n      format\n    });\n  },\n  getReports: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/reports/`);\n  },\n  // Analytics\n  getAnomalies: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/suspicious-activity/`);\n  },\n  getStatistics: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/statistics/`);\n  },\n  getBehaviorAnalysis: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/behavior-analysis/`);\n  },\n  getNetworkAnalysis: caseId => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/network-analysis/`);\n  },\n  // Export\n  exportData: (caseId, format) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/export/`, {\n      params: {\n        format\n      },\n      responseType: 'blob'\n    });\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","getCurrentCase","caseData","localStorage","getItem","JSON","parse","interceptors","request","use","config","token","Authorization","currentCase","case_id","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","forensicAPI","getCurrentCaseId","id","getDashboardStats","caseId","get","getRecentCases","getCases","params","getCase","createCase","data","post","updateCase","put","deleteCase","delete","getArtifacts","getArtifactDetails","searchArtifacts","query","getBrowserHistory","getBrowserDownloads","getBrowserCookies","getRegistryData","getUSBDevices","getFileSystem","getDeletedFiles","getUserActivity","getTimeline","generateReport","format","getReports","getAnomalies","getStatistics","getBehaviorAnalysis","getNetworkAnalysis","exportData","responseType"],"sources":["/home/dhanush/myvenv/forensic_ir_app/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Helper to get current case\nconst getCurrentCase = () => {\n  const caseData = localStorage.getItem('selectedCase');\n  return caseData ? JSON.parse(caseData) : null;\n};\n\n// Request interceptor for adding auth token and case context\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    \n    // Add current case ID to headers\n    const currentCase = getCurrentCase();\n    if (currentCase) {\n      config.headers['X-Case-ID'] = currentCase.case_id;\n    }\n    \n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Response interceptor for handling errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('selectedCase');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// API endpoints\nexport const forensicAPI = {\n  // Helper to get current case ID\n  getCurrentCaseId: () => {\n    const currentCase = getCurrentCase();\n    return currentCase ? currentCase.id : null;\n  },\n  \n  // Dashboard\n  getDashboardStats: () => {\n    const caseId = forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${caseId}/statistics/`);\n  },\n  getRecentCases: () => api.get('/cases/recent/'),\n  \n  // Cases\n  getCases: (params) => api.get('/cases/', { params }),\n  getCase: (id) => api.get(`/cases/${id}/`),\n  createCase: (data) => api.post('/cases/', data),\n  updateCase: (id, data) => api.put(`/cases/${id}/`, data),\n  deleteCase: (id) => api.delete(`/cases/${id}/`),\n  \n  // Artifacts (use current case if caseId not provided)\n  getArtifacts: (caseId, params) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/artifacts/`, { params });\n  },\n  getArtifactDetails: (id) => api.get(`/artifacts/${id}/`),\n  searchArtifacts: (query) => {\n    const caseId = forensicAPI.getCurrentCaseId();\n    return api.post(`/cases/${caseId}/search/`, query);\n  },\n  \n  // Browser artifacts\n  getBrowserHistory: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/browser-history/`);\n  },\n  getBrowserDownloads: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/browser-downloads/`);\n  },\n  getBrowserCookies: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/browser-cookies/`);\n  },\n  \n  // Registry artifacts\n  getRegistryData: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/registry/`);\n  },\n  getUSBDevices: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/usb-devices/`);\n  },\n  \n  // File system\n  getFileSystem: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/filesystem/`);\n  },\n  getDeletedFiles: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/deleted-files/`);\n  },\n  \n  // User Activity\n  getUserActivity: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/user-activity/`);\n  },\n  \n  // Timeline\n  getTimeline: (caseId, params) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/timeline/`, { params });\n  },\n  \n  // Reports\n  generateReport: (caseId, format) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.post(`/cases/${id}/report/`, { format });\n  },\n  getReports: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/reports/`);\n  },\n  \n  // Analytics\n  getAnomalies: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/suspicious-activity/`);\n  },\n  getStatistics: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/statistics/`);\n  },\n  getBehaviorAnalysis: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/behavior-analysis/`);\n  },\n  getNetworkAnalysis: (caseId) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/network-analysis/`);\n  },\n  \n  // Export\n  exportData: (caseId, format) => {\n    const id = caseId || forensicAPI.getCurrentCaseId();\n    return api.get(`/cases/${id}/export/`, {\n      params: { format },\n      responseType: 'blob',\n    });\n  },\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}